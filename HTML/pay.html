<!DOCTYPE html>
<html lang="es">

<head>
    <title>Pay</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://unpkg.com/bootstrap@5.3.2/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
    <link href="../CSS/SignUp.css" rel="stylesheet">
    <style>
        .error-message {
            font-size: 0.8rem;
            margin-top: 0.25rem;
            display: block;
        }
    </style>
</head>

<body>

    <header>
        <!-- Tu encabezado aquí -->
    </header>

    <div id="Separador"></div>

    <main style="text-align: center; padding: 20px;">
        <h2 class="mt-4 mb-4 text-center">Shipping Information</h2>
        <form id="bill" style="max-width: 700px; margin: auto;">
    
            <!-- Campo "Name" -->
            <div class="form-group">
                <label for="name">Name:</label>
                <input type="text" class="form-control" id="name" name="name" maxlength="40">
                <span id="name-error" class="error-message" style="color: red;"></span>
                <small class="form-text text-muted">Only letters allowed, maximum 40 characters.</small>
            </div>
    
            <!-- Campo "Address" -->
            <div class="form-group">
                <label for="address">Address:</label>
                <textarea class="form-control" id="address" name="address" rows="4" maxlength="100"></textarea>
                <span id="address-error" class="error-message" style="color: red;"></span>
                <small class="form-text text-muted">Maximum 100 characters.</small>
            </div>
    
            <!-- Campo "City" -->
            <div class="form-group">
                <label for="city">City:</label>
                <input type="text" class="form-control" id="city" name="city">
                <span id="city-error" class="error-message" style="color: red;"></span>
                <small class="form-text text-muted">Only letters allowed.</small>
            </div>
    
                    <!-- Campo "Card Number" -->
            <div class="form-group">
                <label for="zip">Card Number:</label>
                <input type="text" class="form-control" id="zip" name="zip">
                <span id="zip-error" class="error-message" style="color: red;"></span>
                <small class="form-text text-muted">Enter a valid card number (only numbers).</small>
            </div>
    
            
            <!-- Campo "Country" -->
            <div class="form-group">
                <label for="country">Country:</label>
                <input type="text" class="form-control" id="country" name="country">
                <span id="country-error" class="error-message" style="color: red;"></span>
                <small class="form-text text-muted">Only letters allowed.</small>
            </div>


            <!-- Campo "Total" -->
            <div class="form-group">
                <label for="total">Total:</label>
                <input type="text" class="form-control" id="total" name="total" value="100.00" disabled>
                <span id="total-error" class="error-message" style="color: red;"></span>
                <small class="form-text text-muted">Only numbers allowed. Use dot (.) to separate thousands.</small>
            </div>

            <!-- Campo "Payment Method" -->
            <div class="form-group">
                <label for="payment">Payment Method:</label>
                <select class="form-control" id="payment" name="payment">
                    <option value="">Select payment method</option>
                    <option value="credit">Credit Card</option>
                    <option value="debit">Debit Card</option>
                    <option value="paypal">PayPal</option>
                </select>
                <span id="payment-error" class="error-message" style="color: red;"></span>
                <small class="form-text text-muted">This field is required.</small>
            </div>

            <!-- Campo "Installments" 
            <div class="form-group">
                <label for="installments">Installments:</label>
                <select class="form-control" id="installments" name="installments">
                    <option value="">Select number of installments</option>
                    <option value="1">1 installment</option>
                    <option value="2">2 installments</option>
                    <option value="3">18 installments</option>
                    <option value="4">36 installments</option>
                </select>
                <span id="installments-error" class="error-message" style="color: red;"></span>
                <small class="form-text text-muted">This field is required.</small>
            </div>-->



    
            <button type="submit" class="btn btn-primary">Submit</button>
        </form>
    </main>
    
    <script>
        document.getElementById("bill").addEventListener("submit", function(event) {
            var nameInput = document.getElementById("name");
            var nameValue = nameInput.value.trim();
            var nameRegex = /^[A-Za-z\s]+$/;
            var nameError = document.getElementById("name-error");
            nameError.textContent = "";
    
            // Validación del nombre
            if (!nameRegex.test(nameValue)) {
                nameError.textContent = "Please enter only letters.";
                nameInput.focus();
                event.preventDefault();
                return false;
            }
    
            if (nameValue.length > 40) {
                nameError.textContent = "Name should be maximum 40 characters long.";
                nameInput.focus();
                event.preventDefault();
                return false;
            }
    
            // Validación del campo "City"
            var cityInput = document.getElementById("city");
            var cityValue = cityInput.value.trim();
            var cityRegex = /^[A-Za-z\s]+$/;
            var cityError = document.getElementById("city-error");
            cityError.textContent = "";
    
            if (!cityRegex.test(cityValue)) {
                cityError.textContent = "Please enter only letters.";
                cityInput.focus();
                event.preventDefault();
                return false;
            }

                 // Validación del número de tarjeta (solo números)
                var zipInput = document.getElementById("zip");
                var zipValue = zipInput.value.trim();
                var zipError = document.getElementById("zip-error");
                zipError.textContent = "";

                if (!/^\d+$/.test(zipValue)) {
                    zipError.textContent = "Please enter only numbers.";
                    zipInput.focus();
                    event.preventDefault();
                    return false;
                }

                // Validación del campo "Country"
                var countryInput = document.getElementById("country");
                var countryValue = countryInput.value.trim();
                var countryRegex = /^[A-Za-z\s]+$/;
                var countryError = document.getElementById("country-error");
                countryError.textContent = "";

                if (!countryRegex.test(countryValue)) {
                    countryError.textContent = "Please enter only letters.";
                    countryInput.focus();
                    event.preventDefault();
                    return false;
                }

                
                // Validación del campo "Total"
                var totalInput = document.getElementById("total");
                var totalValue = totalInput.value.trim();
                var totalError = document.getElementById("total-error");
                totalError.textContent = "";

                if (!/^\d+(\.\d+)?$/.test(totalValue)) {
                    totalError.textContent = "Please enter a valid number.";
                    totalInput.focus();
                    event.preventDefault();
                    return false;
                }

                // Validación del campo "Payment Method"
                var paymentInput = document.getElementById("payment");
                var paymentValue = paymentInput.value.trim();
                var paymentError = document.getElementById("payment-error");
                paymentError.textContent = "";

                if (paymentValue === "") {
                    paymentError.textContent = "Please select a payment method.";
                    paymentInput.focus();
                    event.preventDefault();
                    return false;
                }


                /* Validación del campo "Installments"
                var installmentsInput = document.getElementById("installments");
                var installmentsValue = installmentsInput.value.trim();
                var installmentsError = document.getElementById("installments-error");
                installmentsError.textContent = "";

                if (installmentsValue === "") {
                    installmentsError.textContent = "Please select number of installments.";
                    installmentsInput.focus();
                    event.preventDefault();
                    return false;
                }*/

    
            // Si todas las validaciones pasan, permitimos que el formulario se envíe
            window.location.href = "http://localhost:5500/HTML/Index.html";
            return true;
        });
    </script>
    

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.1/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>
    <script src="../JavaScript/script.js"></script>
    <script src="../JavaScript/pay.js"></script>

</body>

</html>